<!DOCTYPE html >
<html>
        <head>
          <title>loc - csw.services.loc</title>
          <meta name="description" content="loc - csw.services.loc" />
          <meta name="keywords" content="loc csw.services.loc" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../index.html';
            var hash = 'csw.services.loc.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../lib/package_big.png" />
        <p id="owner"><a href="../../package.html" class="extype" name="csw">csw</a>.<a href="../package.html" class="extype" name="csw.services">services</a></p>
        <h1>loc</h1><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">loc</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><h4> Location Service </h4><p>The Location Service implemented in this project is based on Multicast DNS.
The necessary support for this should already be available on Mac and Linux machines.
The Location Service helps you to find out the hostname and port number for a service,
as well as other information for determining the correct URI to use, such as the path,
the actor system name and the config prefix.</p><p>Two types of services are currently supported: Akka/actor based and HTTP based services.
To register an Akka actor based service, you can use code like this:</p><pre>LocationService.registerAkkaService(serviceId, self, <span class="lit">"test.akka.prefix"</span>)</pre><p>Where self is a reference to the services own actorRef and the prefix argument indicates the
part of a configuration the actor is interested in receiving.</p><p>To register an HTTP based service, you can make a call like this:</p><pre>LocationService.registerHttpService(serviceId, port)</pre><p>Here you specify the port and the DNS name for the local host is automatically determined.</p><h5> Using the Location Service </h5><p>The Location Service actor can be used in an actor based application to be notified whenever
a set of required services is available or not. In the following example, <code>TestServiceClient</code>
depends on <code>TestAkkaService</code> and <code>TestHttpService</code> and will receive a <code>ServicesReady</code> message
with the contact information (URI, actorRef, prefix, ...) when they are both available.
If any of the required services goes down, a Disconnected message is sent.</p><pre><span class="kw">class</span> TestServiceClient <span class="kw">extends</span> Actor <span class="kw">with</span> ActorLogging {
  <span class="kw">val</span> serviceRefs = <span class="std">Set</span>(TestAkkaService.serviceRef, TestHttpService.serviceRef)
  context.actorOf(LocationService.props(serviceRefs))

  <span class="kw">override</span> <span class="kw">def</span> receive: Receive = {
    <span class="kw">case</span> ServicesReady(services) <span class="kw">=&gt;</span>
      log.info(s<span class="lit">"Received services: ${services.values.map(_.serviceRef.serviceId.name).mkString("</span>, <span class="lit">")}"</span>)

    <span class="kw">case</span> Disconnected(serviceRef) <span class="kw">=&gt;</span>
      log.info(s<span class="lit">"Disconnected service: ${serviceRef.serviceId.name}"</span>)

    <span class="kw">case</span> x <span class="kw">=&gt;</span>
      log.error(s<span class="lit">"Received unexpected message $x"</span>)
  }
}</pre><h5> Command Line Tools </h5><p>On a Mac, you can use the dns-sd command to view information about registered services.
For example:</p><pre>dns-sd -B _csw._tcp</pre><p>will continuously display CSW services added or removed, while:</p><pre>dns-sd -L TestAkkaService-assembly-akka _csw._tcp</pre><p>will list information about the application with the DNS name <code>TestAkkaService-assembly-akka</code> (not case sensitive).</p><p><code>_csw._tcp</code> is the mDNS type used for all CSW services. The default domain is <code>local.</code>.</p><p>The CSW/mDNS application names here are in the format: <i>name-serviceType-accessType</i>,
where <i>serviceType</i> is assembly, hcd, etc. and <i>accessType</i> is <code>http</code> or <code>akka</code>.
</p></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><a href="../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a>, <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Any" class="extype" target="_top">Any</a></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="csw.services.loc"><span>loc</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show all</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="csw.services.loc.AccessType" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="AccessTypeextendsAnyRef"></a>
      <a id="AccessType:AccessType"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">sealed </span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="AccessType.html"><span class="name">AccessType</span></a><span class="result"> extends <a href="../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@AccessTypeextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Access type: Indicate if it is an http server or an akka actor.</p>
    </li><li name="csw.services.loc.LocationService" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LocationServiceextendsActorwithActorLoggingwithServiceListenerwithProductwithSerializable"></a>
      <a id="LocationService:LocationService"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="LocationService.html"><span class="name">LocationService</span></a><span class="params">(<span name="serviceRefs">serviceRefs: <span class="extype" name="scala.Predef.Set">Set</span>[<a href="ServiceRef.html" class="extype" name="csw.services.loc.ServiceRef">ServiceRef</a>]</span>, <span name="replyTo">replyTo: <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Option" class="extype" target="_top">Option</a>[<span class="extype" name="akka.actor.ActorRef">ActorRef</span>] = <span class="symbol"><span class="name"><a href="../../../scala/package.html">None</a></span></span></span>)</span><span class="result"> extends <span class="extype" name="akka.actor.Actor">Actor</span> with <span class="extype" name="akka.actor.ActorLogging">ActorLogging</span> with <span class="extype" name="javax.jmdns.ServiceListener">ServiceListener</span> with <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Product" class="extype" target="_top">Product</a> with <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@LocationServiceextendsActorwithActorLoggingwithServiceListenerwithProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">An actor that notifies the replyTo actor when all the requested services are available.</p><div class="fullcomment"><div class="comment cmt"><p>An actor that notifies the replyTo actor when all the requested services are available.
If all services are available, a ServicesReady message is sent. If any of the requested
services stops being available, a Disconnected messages is sent.
</p></div><dl class="paramcmts block"><dt class="param">serviceRefs</dt><dd class="cmt"><p>set of requested services</p></dd><dt class="param">replyTo</dt><dd class="cmt"><p>optional actorRef to reply to (default: parent of this actor)</p></dd></dl></div>
    </li><li name="csw.services.loc.LocationServiceWorker" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LocationServiceWorkerextendsActorwithActorLogging"></a>
      <a id="LocationServiceWorker:LocationServiceWorker"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="LocationServiceWorker.html"><span class="name">LocationServiceWorker</span></a><span class="result"> extends <span class="extype" name="akka.actor.Actor">Actor</span> with <span class="extype" name="akka.actor.ActorLogging">ActorLogging</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@LocationServiceWorkerextendsActorwithActorLogging" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <div class="fullcomment"><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd></dl></div>
    </li><li name="csw.services.loc.ServiceId" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ServiceIdextendsProductwithSerializable"></a>
      <a id="ServiceId:ServiceId"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="ServiceId.html"><span class="name">ServiceId</span></a><span class="params">(<span name="name">name: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="serviceType">serviceType: <a href="ServiceType.html" class="extype" name="csw.services.loc.ServiceType">ServiceType</a></span>)</span><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Product" class="extype" target="_top">Product</a> with <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceIdextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Used to identify a service</p><div class="fullcomment"><div class="comment cmt"><p>Used to identify a service</p></div><dl class="paramcmts block"><dt class="param">name</dt><dd class="cmt"><p>the service name</p></dd><dt class="param">serviceType</dt><dd class="cmt"><p>HCD, Assembly, Service</p></dd></dl></div>
    </li><li name="csw.services.loc.ServiceRef" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="ServiceRefextendsProductwithSerializable"></a>
      <a id="ServiceRef:ServiceRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="ServiceRef.html"><span class="name">ServiceRef</span></a><span class="params">(<span name="serviceId">serviceId: <a href="ServiceId.html" class="extype" name="csw.services.loc.ServiceId">ServiceId</a></span>, <span name="accessType">accessType: <a href="AccessType.html" class="extype" name="csw.services.loc.AccessType">AccessType</a></span>)</span><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Product" class="extype" target="_top">Product</a> with <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceRefextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Describes a service and the way it is accessed (http, akka)</p><div class="fullcomment"><div class="comment cmt"><p>Describes a service and the way it is accessed (http, akka)</p></div><dl class="paramcmts block"><dt class="param">serviceId</dt><dd class="cmt"><p>holds the service name and type (assembly, hcd, etc.)</p></dd><dt class="param">accessType</dt><dd class="cmt"><p>indicates how the service is accessed (http, akka)</p></dd></dl></div>
    </li><li name="csw.services.loc.ServiceType" visbl="pub" data-isabs="true" fullComment="no" group="Ungrouped">
      <a id="ServiceTypeextendsAnyRef"></a>
      <a id="ServiceType:ServiceType"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier">sealed </span>
        <span class="kind">trait</span>
      </span>
      <span class="symbol">
        <a href="ServiceType.html"><span class="name">ServiceType</span></a><span class="result"> extends <a href="../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceTypeextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">CSW Service types
</p>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="csw.services.loc.AccessType" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="AccessType"></a>
      <a id="AccessType:AccessType"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="AccessType$.html"><span class="name">AccessType</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@AccessType" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="csw.services.loc.LocationService" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LocationService"></a>
      <a id="LocationService:LocationService"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LocationService$.html"><span class="name">LocationService</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@LocationService" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Location Service based on Multicast DNS (AppleTalk, Bonjour).</p><div class="fullcomment"><div class="comment cmt"><p>Location Service based on Multicast DNS (AppleTalk, Bonjour).
Note: On a mac, you can use the command line tool dns-sd to browser the registered services.
</p></div></div>
    </li><li name="csw.services.loc.LocationServiceWorker" visbl="prt" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="LocationServiceWorker"></a>
      <a id="LocationServiceWorker:LocationServiceWorker"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="LocationServiceWorker$.html"><span class="name">LocationServiceWorker</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@LocationServiceWorker" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">A class that can be started from non-actor code that runs a location service actor until it
gets a result.</p><div class="fullcomment"><div class="comment cmt"><p>A class that can be started from non-actor code that runs a location service actor until it
gets a result.
</p></div><dl class="attributes block"> <dt>Attributes</dt><dd>protected </dd></dl></div>
    </li><li name="csw.services.loc.ServiceId" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ServiceId"></a>
      <a id="ServiceId:ServiceId"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ServiceId$.html"><span class="name">ServiceId</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceId" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="csw.services.loc.ServiceRef" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ServiceRef"></a>
      <a id="ServiceRef:ServiceRef"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ServiceRef$.html"><span class="name">ServiceRef</span></a><span class="result"> extends <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Serializable" class="extype" target="_top">Serializable</a></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceRef" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li><li name="csw.services.loc.ServiceType" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="ServiceType"></a>
      <a id="ServiceType:ServiceType"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="ServiceType$.html"><span class="name">ServiceType</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../index.html#csw.services.loc.package@ServiceType" title="Permalink" target="_top">
        <img src="../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <a href="../../../scala/package.html#AnyRef=Object" class="extmbr" name="scala.AnyRef">AnyRef</a></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <a href="http://www.scala-lang.org/api/2.11.7/index.html#scala.Any" class="extype" target="_top">Any</a></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
