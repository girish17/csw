<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_111) on Sat Dec 03 22:50:03 CET 2016 -->
<title>javacsw.services.pkg</title>
<meta name="date" content="2016-12-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="javacsw.services.pkg";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javacsw/services/loc/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../javacsw/services/ts/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javacsw/services/pkg/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;javacsw.services.pkg</h1>
<div class="docSummary">
<div class="block">The pkg project deals with the packaging of components, such as Containers, HCDs and Assemblies.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/ILocationSubscriberClient.html" title="interface in javacsw.services.pkg">ILocationSubscriberClient</a></td>
<td class="colLast">
<div class="block">LocationSubscriberClient can be used to receive updates to Locations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JComponent.html" title="interface in javacsw.services.pkg">JComponent</a></td>
<td class="colLast">
<div class="block">Java API to CSW components, such as an assembly, HCD (Hardware Control Daemon) or SC (Sequence Component).</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/AbstractAssemblyController.html" title="class in javacsw.services.pkg">AbstractAssemblyController</a></td>
<td class="colLast">
<div class="block">Supports Java subclasses of AssemblyController and LifecycleHandler</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/AbstractHcdController.html" title="class in javacsw.services.pkg">AbstractHcdController</a></td>
<td class="colLast">
<div class="block">Supports Java subclasses of AssemblyController and LifecycleHandler</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JAssemblyController.html" title="class in javacsw.services.pkg">JAssemblyController</a></td>
<td class="colLast">
<div class="block">Supports Java subclasses of AssemblyController and LifecycleHandler</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JComponentSup.html" title="class in javacsw.services.pkg">JComponentSup</a></td>
<td class="colLast">
<div class="block">Java API support for CSW components, such as an assembly, HCD (Hardware Control Daemon) or SC (Sequence Component).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JComponentSup$.html" title="class in javacsw.services.pkg">JComponentSup$</a></td>
<td class="colLast">
<div class="block">Java API support for CSW components, such as an assembly, HCD (Hardware Control Daemon) or SC (Sequence Component).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JContainerComponent.html" title="class in javacsw.services.pkg">JContainerComponent</a></td>
<td class="colLast">
<div class="block">A Java API to the ContainerComponent scala class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JContainerComponent$.html" title="class in javacsw.services.pkg">JContainerComponent$</a></td>
<td class="colLast">
<div class="block">A Java API to the ContainerComponent scala class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JHcdController.html" title="class in javacsw.services.pkg">JHcdController</a></td>
<td class="colLast">
<div class="block">Supports Java subclasses of HcdController and LifecycleHandler</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JLifecycleManager.html" title="class in javacsw.services.pkg">JLifecycleManager</a></td>
<td class="colLast">
<div class="block">Java API for LifecycleManager</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../javacsw/services/pkg/JSupervisor.html" title="class in javacsw.services.pkg">JSupervisor</a></td>
<td class="colLast">
<div class="block">Java API for some of the static defs in the Supervisor Scala class</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package javacsw.services.pkg Description">Package javacsw.services.pkg Description</h2>
<div class="block">The pkg project deals with the packaging of components, such as Containers, HCDs and Assemblies.
 <p>
 See *OSW TN009 - "TMT CSW PACKAGING SOFTWARE DESIGN DOCUMENT"* for the background information.
 <p>
 Containers and their components can be created from a configuration file
 (in <a href="https://github.com/typesafehub/config/blob/master/HOCON.md">HOCON</a> format)
 by calling <a href="../../../csw/services/pkg/ContainerComponent.html#create-com.typesafe.config.Config-"><code>ContainerComponent.create(com.typesafe.config.Config)</code></a> and
 passing it the Config object for the file.
 <p>
 Alternatively, you can pass a <a href="../../../csw/services/pkg/Component.ContainerInfo.html" title="class in csw.services.pkg"><code>Component.ContainerInfo</code></a> object describing
 the container to the create() method. The <a href="../../../javacsw/services/pkg/JComponent.html" title="interface in javacsw.services.pkg"><code>JComponent</code></a> class provides
 a Java API for creating ContainerInfo objects for HCDs, assemblies and containers.
 <p>
 Components are controlled by a Supervisor (<a href="../../../csw/services/pkg/Supervisor.html" title="class in csw.services.pkg"><code>Supervisor</code></a>,
 <a href="../../../javacsw/services/pkg/JSupervisor.html" title="class in javacsw.services.pkg"><code>JSupervisor</code></a>) actor that
 handles <em>lifecycle messages</em> to determine the state of the component
 (Components that are not in the *Running* state, do not receive commands, for example).
 <p>
 Scala based components can extend the <a href="../../../csw/services/pkg/LifecycleHandler.html" title="interface in csw.services.pkg"><code>LifecycleHandler</code></a> trait to be notified
 about lifecycle changes, such as when the component is initialized, started and stopped.
 <p>
 Java based components should extend an abstract actor based class that includes that trait, such as
 <a href="../../../javacsw/services/pkg/JAssemblyController.html" title="class in javacsw.services.pkg"><code>JAssemblyController</code></a> for assemblies or
 <a href="../../../javacsw/services/pkg/JHcdController.html" title="class in javacsw.services.pkg"><code>JHcdController</code></a> for HCDs and then override
 the lifecycle methods, such as startup(), initialize(), shutdown().
 <p>
 <strong>Container Config Files</strong>
 <p>
 Here is an example of a config file for creating a container with the name <em>Container-1</em> that
 contains one assembly (named <em>Assembly-1</em>) and depends on the services of two HCDs (<em>HCD-2A</em> and <em>HCD-2B</em>).
 The assembly is implemented by the given class (TestAssembly).
 A <em>Supervisor</em> actor will be created to manage the assembly, which includes registering it with the
 location service, using the given name and prefix. The prefix can be used to distribute parts of the
 configurations to different HCDs. HCDs register themselves with the Location Service and specify a unique
 prefix that can be used for this purpose.
 <pre> <code>
 container {
   name = Container-1
   components {
     Assembly-1 {
       type = Assembly
       class = csw.services.pkg.TestAssembly
       prefix = tcs.base.assembly1
       connectionType: [akka]
       connections = [
         // Component connections used by this component
         {
           name: HCD-2A
           type: HCD
           connectionType: [akka]
         }
         {
           name: HCD-2B
           type: HCD
           connectionType: [akka]
         }
       ]
     }
   }
 }
 </code> </pre>
 Below is an example config file for the container with the HCDs referenced in the above example.
 In this case, `HCD-2A` and `HCD-2B` are both implemented by the TestHcd class.
 <pre> <code>
 container {
   name = "Container-2"
   components {
     HCD-2A {
       type = HCD
       class = csw.services.pkg.TestHcd
       prefix = tcs.base.pos
       connectionType: [akka]
       rate = 1 second
     }
     HCD-2B {
       type = HCD
       class = csw.services.pkg.TestHcd
       prefix = tcs.ao.pos.one
       connectionType: [akka]
       rate = 1 second
     }
   }
 }
 </code> </pre>
 HCDs publish their status by calling the <em>notifySubscribers()</em> method.
 Any actor that wishes to be notified about an HCDs status can subscribe to these messages.
 An Assembly can subscribe to it's HCD's status by overriding the <em>allResolved()</em> method
 (<em>allResolved()</em> is called once the locations of all the assembly's connections have been resolved):
 <pre> <code>
 public void allResolved(Set&lt;LocationService.Location&gt; locations) {
    subscribe(locations, self());
 }
 </code> </pre>
 The HCDs can publish their current state by calling <em>notifySubscribers()</em> with a
 <a href="../../../csw/util/config/StateVariable.CurrentState.html" title="class in csw.util.config"><code>StateVariable.CurrentState</code></a> object, or
 by receiving a <a href="../../../csw/util/config/StateVariable.CurrentState.html" title="class in csw.util.config"><code>StateVariable.CurrentState</code></a>  actor message
 (from a worker actor), which is automatically handled by the parent trait.
 <p>
 For a working example, see the <a href="https://github.com/tmtsoftware/javacsw-pkg-demo">javacsw-pkg-demo</a>
 project.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javacsw/services/loc/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../javacsw/services/ts/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javacsw/services/pkg/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
